import{A as u,D as h,_ as p,C as f}from"./index-55992cfb.js";import{u as v,j as t,C as P,b as y,a as s,G as r,T as c,B as _,F as C,c as S,d as b,e as L,L as k,A as D,f as I,E as T}from"./react-admin-47320ed0.js";import{r as a}from"./vendor-1a3567d7.js";import{bc as x,G as d,aU as E,aW as A,bd as m,be as G,ba as q}from"./ra-data-graphql-simple-5fc26fa5.js";import{g as w}from"./@apollo/client-6a540b6b.js";import"./react-hook-form-3adb9e23.js";import"./graphql-422755b2.js";const R=w`query getUSer ($id: ID!) {
  User (id: $id) {
   name
  }
}
`,j=x({client:u}),U={checkAuth(e){return console.log(e),localStorage.getItem("username")?Promise.resolve():Promise.reject()},checkError(e){return console.log(e),Promise.resolve()},getPermissions(e){return console.log(e),Promise.resolve()},async login(e){console.log(e);const o=await u.query({query:R,variables:{id:"123"}});console.log(o),localStorage.setItem("username",e.username)},logout(e){return localStorage.removeItem("username"),console.log(e),Promise.resolve()}},B={palette:{mode:"dark"}};function z(){const[e,o]=a.useState(null),n=d();return j.then(o).catch(i=>n(i.message,{type:"error"})),e}function F(e,o){const[{palette:n}]=v();return(n==null?void 0:n.mode)==="dark"?o:e}const N="/thot-frontend/assets/login-4327769a.svg",V=()=>t(P,{children:t(y,{children:s(r,{direction:"column",container:!0,children:[t(c,{source:"username"}),t(c,{source:"password"}),t(_,{type:"submit",variant:"contained",children:"Login"})]})})});function $(){const e=E(),o=d();return({email:i,password:g})=>{e({email:i,password:g}).catch(l=>o((l==null?void 0:l.message)??"somenthing went wrong",{type:"error"}))}}const H=a.memo(({login:e})=>{const o=$();return t(A,{onSubmit:o,children:e})}),M="_loginImageDark_qzs2y_1",O={loginImageDark:M};function W(){const e=F(void 0,O.loginImageDark);return s(C,{children:[t(S,{height:30,children:t(b,{lightTheme:L,darkTheme:B})}),s(r,{container:!0,height:"calc(100vh - 30px)",alignContent:"center",children:[t(r,{item:!0,md:8,width:{xs:0},children:t("img",{className:e,alt:"two people talking",width:"100%",src:N})}),t(r,{justifyContent:"center",alignContent:"center",item:!0,md:4,xs:12,container:!0,children:t(H,{login:t(V,{})})})]})]})}const te=a.memo(()=>{const e=z();return e?s(D,{basename:"/admin",loginPage:W,authProvider:U,dataProvider:e,children:[t(m,{name:"User",list:t(h,{LazyElement:a.lazy(()=>p(()=>import("./UserList-3dcb4c7d.js"),["assets/UserList-3dcb4c7d.js","assets/react-admin-47320ed0.js","assets/vendor-1a3567d7.js","assets/ra-data-graphql-simple-5fc26fa5.js","assets/react-hook-form-3adb9e23.js","assets/@apollo/client-6a540b6b.js","assets/graphql-422755b2.js"]))})}),t(m,{name:"Post",list:I,edit:T}),t(G,{children:t(q,{path:"/other/*",element:t(f,{})})})]}):t(k,{})});export{te as default};
